"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6941],{21086:function(e,t,r){r.d(t,{v:function(){return n}});var i=r(54539),s=r(30656),o=r(53161);async function n(e){let t=(await i.g.currentAuthenticatedUser()).signInUserSession.idToken.jwtToken,r=o.Z.save_formation_for_user;return await (0,s.Z)({method:"post",baseURL:"https://"+r+".execute-api.us-east-1.amazonaws.com/prod",headers:{Authorization:t},data:{formationUUID:e}})}},44475:function(e,t,r){r.d(t,{E:function(){return n}});var i=r(54539),s=r(30656),o=r(53161);async function n(e){let t=(await i.g.currentAuthenticatedUser()).signInUserSession.idToken.jwtToken,r=o.Z.unsave_formation_for_user;return await (0,s.Z)({method:"post",baseURL:"https://"+r+".execute-api.us-east-1.amazonaws.com/prod",headers:{Authorization:t},data:{formationUUID:e}})}},16944:function(e,t,r){r.d(t,{a:function(){return n}});var i=r(54539),s=r(30656),o=r(53161);async function n(e){let t=(await i.g.currentAuthenticatedUser()).signInUserSession.idToken.jwtToken,r=o.Z.get_formation_authenticated;return await (0,s.Z)({method:"post",baseURL:"https://"+r+".execute-api.us-east-1.amazonaws.com/prod",headers:{Authorization:t},data:{formationUUID:e}})}},76941:function(e,t,r){var i=r(52676),s=r(75271),o=r(59668),n=r.n(o),a=r(62861),d=r(45031),p=r(48025),l=r(56677),h=r(96356),u=r(29824),c=r(64240),m=r.n(c),f=r(63408),x=r.n(f),g=r(62763),v=r.n(g),b=r(21086),y=r(44475);r(16944);var w=r(72266),_=r(70887),j=r(52300);m()(()=>r.e(5110).then(r.t.bind(r,95110,23)),{loadableGenerated:{webpack:()=>[95110]},ssr:!1});class S extends s.Component{async componentDidMount(){Math.random()>.5&&this.setState({isMovingOrStill:"still"}),await this.updateFormationData(),this.props.emphasizeSaveStar&&!this.props.is_saved_by_user_who_queried&&(this.bounceInterval=setInterval(()=>{this.setState(e=>({starBounce:!e.starBounce}))},500))}async componentDidUpdate(e){e.formation.formation_uuid!==this.props.formation.formation_uuid&&await this.updateFormationData()}async componentWillUnmount(){this.bounceInterval&&clearInterval(this.bounceInterval)}async updateFormationData(){this.setState(e=>({brightness:void 0!==this.props.brightness?this.props.brightness:e.brightness,contrast:void 0!==this.props.contrast?this.props.contrast:e.contrast}))}checkIfFormationIsPurchased(e,t,r){return(null!=r?r:[]).some(r=>r.newly_duplicated_formation_uuid===e||r.original_formation_uuid===e||r.original_formation_uuid===t)}async setIsSavedByUserInFormation(){this.props.markThatUserClickedSaveInParent(this.props.formation_uuid),await (0,b.v)(this.props.formation_uuid)}async unSetIsSavedByUserInFormation(){this.props.markThatUserClickedUnSaveInParent(this.props.formation_uuid),await (0,y.E)(this.props.formation_uuid)}async handleClickOnSaveButton(){!1==this.props.isLoggedIn?this.props.openLogInSignUpModal():this.props.is_saved_by_user_who_queried?this.unSetIsSavedByUserInFormation():this.setIsSavedByUserInFormation()}render(){let e=this.state.formationPriceUSDCents||this.props.formation.price_usd_in_cents;return(0,i.jsxs)(u.E.div,{className:n().standardCenteredDiv,onMouseOver:()=>{this.setState({isMouseOverObject:!0})},onMouseLeave:()=>{this.setState({isMouseOverObject:!1})},layout:!0,whileHover:this.props.isDisabled?{}:{scale:1.04},style:{marginTop:"0px",backgroundColor:"white",boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.15)",borderRadius:"15px",minWidth:"150px",minHeight:"235px",justifyContent:"flex-start",alignItems:"flex-start",marginTop:this.props.formation.has_preview_video?"10px":null,cursor:this.props.isDisabled?"default":"pointer",position:"relative"},children:[e>0&&!this.state.isPurchasedByUser&&(0,i.jsx)("div",{className:n().standardCenteredDiv,style:{position:"absolute",top:"7px",left:"37px",transform:"translateX(-50%)",zIndex:10,backgroundColor:"white",borderTopLeftRadius:"8px",borderBottomLeftRadius:"4px",borderTopRightRadius:"4px",borderBottomRightRadius:"4px",padding:"2px 8px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:(0,i.jsx)("text",{className:n().alternateTextBody,style:{fontSize:"12px",fontWeight:"400",letterSpacing:"-.5px",color:"#333"},children:(e/100).toLocaleString("en-US",{style:"currency",currency:"USD"})})}),this.props.formation.has_preview_video?(0,i.jsx)(v(),{style:{cursor:"pointer",backgroundColor:"#000",borderRadius:"15px",borderBottomRightRadius:"0px",borderBottomLeftRadius:"0px",pointerEvents:this.props.isDisabled?"none":null},"aria-disabled":this.props.isDisabled,href:(0,j.bh)("/new-formation/"+this.props.name)+"?a="+this.props.formation_uuid+"&pageFromPath="+this.props.pageFromPath+"&pageFromText="+this.props.pageFromText+"&numberOfPaths="+this.props.numberOfPaths,children:(0,i.jsxs)("div",{children:[(0,i.jsx)(x(),{src:(0,_.CR)(this.props.image),loader:()=>(0,_.CR)(this.props.image),alt:"",unoptimized:!0,width:180,height:180,style:{objectFit:"cover",borderTopLeftRadius:"15px",borderTopRightRadius:"15px",filter:"brightness(".concat(this.state.brightness,") contrast(").concat(this.state.contrast,")")}}),(0,i.jsx)("div",{style:{position:"absolute",top:"6px",right:"12px",zIndex:20,pointerEvents:"none"},children:(0,i.jsx)(a.z,{size:16,color:"white",weight:"regular"})})]})}):(0,i.jsx)(v(),{style:{cursor:"pointer",backgroundColor:"#000",borderRadius:"15px",borderBottomRightRadius:"0px",borderBottomLeftRadius:"0px",pointerEvents:this.props.isDisabled?"none":null},"aria-disabled":this.props.isDisabled,href:(0,j.bh)("/new-formation/"+this.props.name)+"?a="+this.props.formation_uuid+"&pageFromPath="+this.props.pageFromPath+"&pageFromText="+this.props.pageFromText+"&numberOfPaths="+this.props.numberOfPaths,children:(0,i.jsx)(x(),{src:(0,_.CR)(this.props.image),loader:()=>(0,_.CR)(this.props.image),alt:"",unoptimized:!0,width:180,height:180,style:{objectFit:"cover",borderTopLeftRadius:"15px",borderTopRightRadius:"15px",pointerEvents:"none",filter:"brightness(".concat(this.state.brightness,") contrast(").concat(this.state.contrast,")")}})}),(0,i.jsxs)(v(),{href:(0,j.bh)("/new-formation/"+this.props.name)+"?a="+this.props.formation_uuid+"&pageFromPath="+this.props.pageFromPath+"&pageFromText="+this.props.pageFromText+"&numberOfPaths="+this.props.numberOfPaths,children:[(0,i.jsx)("div",{style:{minHeight:"0px"}}),(0,i.jsxs)("div",{className:n().standardCenteredDiv,style:{flexDirection:"row",width:"100%",marginTop:"5px",height:"10px",border:"solid 0px blue",alignItems:"flex-start",justifyContent:"flex-start",marginLeft:"10px"},children:[(0,i.jsx)("div",{style:{width:"0px"}}),this.props.formation.num_drones&&(0,i.jsxs)("div",{className:n().standardCenteredDiv,style:{flexDirection:"row"},children:[(0,i.jsx)(d.j,{size:13,color:"#333"}),(0,i.jsx)("div",{style:{width:"1.5px"}}),(0,i.jsx)("text",{className:n().alternateTextBody,style:{fontSize:"12px",fontWeight:"500",letterSpacing:"-.75px",color:"#333"},children:this.props.formation.num_drones})]}),this.props.formation.length_in_seconds&&(0,i.jsxs)("div",{className:n().standardCenteredDiv,style:{flexDirection:"row",marginLeft:"10px"},children:[(0,i.jsx)(p.S,{size:13,color:"#333"}),(0,i.jsx)("div",{style:{width:"1.5px"}}),(0,i.jsxs)("text",{className:n().alternateTextBody,style:{fontSize:"12px",fontWeight:"500",letterSpacing:"-.75px",color:"#333"},children:[this.props.formation.length_in_seconds,"s"]})]}),this.props.formation.formation_default_size&&(0,i.jsxs)("div",{className:n().standardCenteredDiv,style:{flexDirection:"row",marginLeft:"10px"},children:[(0,i.jsx)(l.x,{size:13,color:"#333"}),(0,i.jsx)("div",{style:{width:"2px"}}),(0,i.jsxs)("text",{className:n().alternateTextBody,style:{fontSize:"12px",fontWeight:"500",letterSpacing:"-.75px",color:"#333"},children:[Number(this.props.formation.formation_default_size).toFixed(0),"m"]})]})]}),(0,i.jsx)("div",{className:n().standardCenteredDiv,style:{width:"100%",padding:"10px",flexDirection:"row",justifyContent:"flex-start",border:"0px solid blue"},children:(0,i.jsxs)("div",{className:n().standardCenteredDiv,style:{flexDirection:"column",alignItems:"flex-start",justifyContent:"flex-start",border:"0px solid red",width:"110px"},children:[(0,i.jsx)("div",{className:n().standardCenteredDiv,children:(0,i.jsx)("text",{className:n().standardTextBody,style:{fontSize:"15px",color:"#333",fontWeight:"500",letterSpacing:"-0.8px",height:"2.4em",overflow:"hidden",lineHeight:"1.2em",width:"158px",userSelect:"none",marginLeft:"0px",marginBottom:"0.5em"},children:void 0==this.props.name?null:this.props.name.length>40?this.props.name.substr(0,38)+"...":this.props.name})}),(0,i.jsx)("div",{style:{minHeight:"10px"}}),(0,i.jsxs)("div",{className:n().standardCenteredDiv,style:{flexDirection:"row",alignItems:"center",justifyContent:"center",border:"0px solid red",marginBottom:"-10px"},children:[(0,i.jsx)("div",{className:n().standardCenteredDiv,style:{borderRadius:"50%",width:"20px",height:"20px",minWidth:"20px",minheight:"20px"}}),(0,i.jsx)("div",{style:{minWidth:"5px"}}),this.props.isOwnedByUserWhoQueried&&void 0!=this.props.formation.show_used_in?(0,i.jsx)("div",{className:n().standardCenteredDiv,style:{fontSize:"10px",color:"#aaa",fontWeight:"500",marginTop:"-15px",marginLeft:"-25px"},children:(0,i.jsx)(w.Z,{body:"Used In A Show",fontSize:"10px",paddingLeft:"7.5px",paddingRight:"7.5px",padding:"5px"})}):!0!=this.props.isOwnedByUserWhoQueried&&void 0!=this.props.formation.num_users_who_have_saved?(0,i.jsxs)("div",{className:n().standardCenteredDiv,style:{fontSize:"10px",color:"#aaa",fontWeight:"500",flexDirection:"row",marginTop:"0px",marginLeft:"-25px"},children:[(0,i.jsx)(h.U,{size:15,color:"#333"}),(0,i.jsx)("div",{style:{width:"2px"}}),(0,i.jsx)("text",{className:n().standardTextBody,style:{fontSize:"12px",color:"#333",fontWeight:"400",letterSpacing:"--.5px"},children:this.props.formation.num_users_who_have_saved})]}):!0!=this.props.isOwnedByUserWhoQueried?(0,i.jsxs)("div",{className:n().standardCenteredDiv,style:{fontSize:"10px",color:"#aaa",fontWeight:"500",flexDirection:"row",marginTop:"0px",marginLeft:"-25px"},children:[(0,i.jsx)(h.U,{size:15,color:"#333"}),(0,i.jsx)("div",{style:{width:"2px"}}),(0,i.jsx)("text",{className:n().standardTextBody,style:{fontSize:"12px",color:"#333",fontWeight:"400",letterSpacing:"--.5px"},children:"0"})]}):null]})]})})]}),(0,i.jsx)("div",{className:n().standardCenteredDiv,onClick:()=>{this.handleClickOnSaveButton()},style:{width:"100%",cursor:"pointer",border:"0px solid red",flexDirection:"row",alignItems:"flex-end",justifyContent:"flex-end",paddingRight:"7.5px",marginTop:"-22.5px"},children:(0,i.jsx)(u.E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},animate:this.props.emphasizeSaveStar&&!this.props.is_saved_by_user_who_queried?{scale:this.state.starBounce?1.8:1}:{},transition:{duration:.125,ease:"easeInOut"},style:{cursor:"pointer",backgroundColor:"transparent",border:"0px solid white"},children:this.props.isOwnedByUserWhoQueried||this.props.hideSaveStar?(0,i.jsx)("div",{style:{height:"22.5px"}}):this.props.is_saved_by_user_who_queried?(0,i.jsx)(h.U,{size:22.5,weight:"fill",color:"#333"}):(0,i.jsx)(h.U,{size:22.5,style:{backgroundColor:"transparent"},color:"#333"})})})]})}constructor(){super(),this.state={isMouseOverObject:!1,isMovingOrStill:"moving",temporarilyShowStarAsFilledIn:!1,brightness:_.oy,contrast:_.cT,formationPriceUSDCents:null,isPurchasedByUser:!1,starBounce:!0}}}t.Z=S},72266:function(e,t,r){r.d(t,{Z:function(){return n}});var i=r(52676),s=r(59668),o=r.n(s);function n(e){return(0,i.jsx)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",borderRadius:"8px",backgroundColor:"#fff",border:"1.5px solid #D9D9D9"},children:(0,i.jsx)("text",{className:o().alternateTextBody,style:{textAlign:void 0==e.textAlign?"left":e.textAlign,fontSize:void 0==e.fontSize?"14px":e.fontSize,color:"#444",fontWeight:"undefined?"==e.fontWeight||null==e.fontWeight?"400":e.fontWeight,padding:void 0==e.padding?"5px":e.padding,paddingLeft:void 0==e.paddingLeft?"15px":e.paddingLeft,paddingRight:void 0==e.paddingRight?"15px":e.paddingRight},children:e.body})})}},52300:function(e,t,r){function i(e){try{var t=Math.round(Date.now()),r=Number(t)-Number(e);if(6e4>Number(r))return"Less than 1 minute ago";if(36e5>Number(r)){var i=Math.floor(Number(r)/6e4);if(1==i)return"1 minute ago";return i+" minutes ago"}if(864e5>Number(r)){var s=Math.floor(Number(r)/36e5),i=Math.floor(Number(r)%36e5/6e4),o="s";1==s&&(o="");var n="s";return 1==i&&(n=""),s+" hour"+o+" "+i+" minute"+n+" ago"}if(1728e6>Number(r)){var a=Math.floor(Number(r)/864e5),s=Math.floor(Number(r)%864e5/36e5),o="s";1==s&&(o="");var d="s";return 1==a&&(d=""),a+" day"+d+" "+s+" hour"+o+" ago"}else try{var p=new Date(Number(e));return p.toLocaleString()}catch(t){try{var p=new Date(Number(e));return p.toLocaleString("en-US",{timeZone:"America/New_York"})}catch(e){return""}}}catch(e){return""}}function s(e){try{if(1e3>Number(e))return"Less than 1 second";if(6e4>Number(e)){var t=Math.floor(Number(e)/1e3);if(1==t)return"1 second";return t+" seconds"}if(36e5>Number(e)){var r=Math.floor(Number(e)/6e4);if(1==r)return"1 minute";return r+" minutes"}if(864e5>Number(e)){var i=Math.floor(Number(e)/36e5);if(1==i)return"1 hour ";return i+" hours "}else if(1728e6>Number(e)){var s=Math.floor(Number(e)/864e5);if(1==s)return"1 day ago";return s+" days "}}catch(e){return""}}function o(e){try{return new Date(Number(e)).toLocaleString()}catch(e){return""}}function n(){return new Date().toLocaleTimeString("en-us",{timeZoneName:"short"}).split(" ")[2]}function a(e){try{var t=new Date(Number(e)),r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getUTCMonth()],i=t.getDate();return r+" "+i}catch(e){return""}}function d(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{let r=Math.floor(e/60),i=e-60*r,s=Math.floor(i%1*100);if(i=Math.floor(i),t){if(i<10)return r+":0"+i+"."+(s<10?"0":"")+s;return r+":"+i+"."+(s<10?"0":"")+s}if(i<10)return r+":0"+i;return r+":"+i}catch(e){return""}}function p(e){return e&&e?e.toLowerCase().replace(/[\s_]+/g,"-").normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9\-\/\.=&%]/g,"").replace(/\-+/g,"-").replace(/^-+|-+$/g,""):""}r.d(t,{O$:function(){return i},bh:function(){return p},dv:function(){return a},jU:function(){return d},lG:function(){return o},lz:function(){return s},q0:function(){return n}})}}]);